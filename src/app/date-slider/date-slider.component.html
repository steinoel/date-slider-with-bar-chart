<div class="slider-container">
  <!-- Slider for desktop -->
  <div *ngIf="!isMobile" #slider class="slider">
    <div class="track"></div>
    <div
      class="range"
      [style.left.%]="calculatePercentage(minValue)"
      [style.width.%]="
        calculatePercentage(maxValue) - calculatePercentage(minValue)
      "
    ></div>

    <div
      class="thumb thumb-left"
      [style.left.%]="calculatePercentage(minValue)"
      (mousedown)="startDrag($event, 'min')"
      (touchstart)="startDrag($event, 'min')"
    ></div>
    <div
      class="thumb thumb-right"
      [style.left.%]="calculatePercentage(maxValue)"
      (mousedown)="startDrag($event, 'max')"
      (touchstart)="startDrag($event, 'max')"
    ></div>

    <!-- Permanent tooltips -->
    <div
      class="tooltip tooltip-left"
      [style.left.%]="calculatePercentage(minValue)"
    >
      {{ minDate }}
    </div>
    <div
      class="tooltip tooltip-right"
      [style.left.%]="calculatePercentage(maxValue)"
    >
      {{ maxDate }}
    </div>
  </div>

  <!-- Date picker container, shown only on mobile -->
  <div *ngIf="isMobile" class="date-picker-container">
    <input
      type="date"
      id="start-date"
      [(ngModel)]="startDate"
      (ngModelChange)="updateStartDate($event)"
    />
    <div class="line"></div>
    <input
      type="date"
      id="end-date"
      [(ngModel)]="endDate"
      (ngModelChange)="updateEndDate($event)"
    />
  </div>
</div>
